"use strict";(self.webpackChunksocial=self.webpackChunksocial||[]).push([[921],{8921:function(e,s,r){r.r(s),r.d(s,{default:function(){return b}});var t=r(5671),n=r(3144),i=r(136),a=r(5716),o=r(2791),u=r(7818),_=r(5732),l={users_title:"Users_users_title__b3D2I",users_list:"Users_users_list__pU2-6",user_item:"Users_user_item__57oRY",avatar_wrapper:"Users_avatar_wrapper__D6Xg1",user_item__avatar:"Users_user_item__avatar__xkjmn",user_item__follow_btn:"Users_user_item__follow_btn__0u9W+",user_item__unfollow_btn:"Users_user_item__unfollow_btn__G4Cm9",user_item__right:"Users_user_item__right__NyDSq",user_item__name_and_status:"Users_user_item__name_and_status__9wQ-9",user_item__user_fullname:"Users_user_item__user_fullname__Q9W2t",user_item__user_status:"Users_user_item__user_status__rKwpO",user_item__location:"Users_user_item__location__2ORPn",users__show_more:"Users_users__show_more__nUtW7",users__pagination:"Users_users__pagination__K3f05",users__pagination_item:"Users_users__pagination_item__z6S9S",active:"Users_active__5oh+8"},c=r(4353),p=r(1523),g=r(184),m=function(e){var s=e.pages,r=e.currentPage,t=e.onPageChanged,n=e.pagesCount,i=e.paginationItemStyle,a=e.paginationDivStyle,o=e.activeItemStyle,u=function(){return r>1?(0,g.jsx)("span",{onClick:function(){return t(1)},className:i,children:"<<"}):null},_=function(){return r<n?(0,g.jsx)("span",{onClick:function(){return t(n)},className:i,children:">>"}):null};return(0,g.jsxs)("div",{className:a,children:[(0,g.jsx)(u,{}),s.map((function(e){return r-e>5||r-e<-5?"":(0,g.jsx)("span",{onClick:function(){return t(e)},className:"".concat(i," ").concat(r===e?o:""),children:e},e)})),(0,g.jsx)(_,{})]})},f=function(e){var s=e.authorised,r=e.user,t=e.follow,n=e.unfollow,i=e.followingInProgress;return(0,g.jsxs)("div",{className:l.user_item,children:[(0,g.jsxs)("div",{className:l.user_item__left,children:[(0,g.jsx)("div",{className:l.avatar_wrapper,children:(0,g.jsx)(p.OL,{to:"/profile/"+r.id,children:(0,g.jsx)("img",{className:l.user_item__avatar,src:r.photos.small||c,alt:""})})}),r.followed?(0,g.jsx)("button",{disabled:i.some((function(e){return e===r.id})),onClick:function(){n(r.id)},className:l.user_item__unfollow_btn,children:"Unfollow"}):(0,g.jsx)("button",{disabled:i.some((function(e){return e===r.id}))||!s,onClick:function(){t(r.id)},className:l.user_item__follow_btn,children:"Follow"})]}),(0,g.jsx)("div",{className:l.user_item__right,children:(0,g.jsxs)("div",{className:l.user_item__name_and_status,children:[(0,g.jsx)(p.OL,{to:"/profile/"+r.id,children:(0,g.jsx)("p",{className:l.user_item__user_fullname,children:r.name})}),r.status&&(0,g.jsx)("p",{className:l.user_item__user_status,children:r.status})]})})]},r.id)},d=function(e){for(var s=Math.ceil(e.totalUsersCount/e.pageSize),r=[],t=1;t<=s;t++)r.push(t);return(0,g.jsxs)("div",{className:l.users_wrapper,children:[(0,g.jsx)(m,{pages:r,currentPage:e.currentPage,onPageChanged:e.onPageChanged,pagesCount:s,paginationItemStyle:l.users__pagination_item,paginationDivStyle:l.users__pagination,activeItemStyle:l.active}),(0,g.jsx)("div",{className:l.users_list,children:e.users.map((function(s){return(0,g.jsx)(f,{authorised:e.authorised,user:s,follow:e.follow,unfollow:e.unfollow,followingInProgress:e.followingInProgress},s.id)}))})]})},h=r(7865),w=function(e){return e.usersPage.users},v=function(e){return e.auth.isAuthorised},P=function(e){return e.usersPage.pageSize},j=function(e){return e.usersPage.totalUsersCount},x=function(e){return e.usersPage.currentPage},U=function(e){return e.usersPage.isLoading},C=function(e){return e.usersPage.followingInProgress},N=_.Nw.setCurrentPage,S=function(e){(0,i.Z)(r,e);var s=(0,a.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=s.call.apply(s,[this].concat(i))).onPageChanged=function(s){e.props.requestUsers(s,e.props.pageSize),e.props.setCurrentPage(s)},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,g.jsxs)(g.Fragment,{children:[this.props.isLoading?(0,g.jsx)(h.Z,{}):null,(0,g.jsx)("h2",{className:l.users_title,children:this.props.pageTitle}),(0,g.jsx)(d,{authorised:this.props.authorised,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),r}(o.Component),b=(0,u.$j)((function(e){return{authorised:v(e),users:w(e),pageSize:P(e),totalUsersCount:j(e),currentPage:x(e),isLoading:U(e),followingInProgress:C(e)}}),{follow:_.ZN,unfollow:_.fv,setCurrentPage:N,requestUsers:_.D7})(S)}}]);
//# sourceMappingURL=921.92c850bb.chunk.js.map